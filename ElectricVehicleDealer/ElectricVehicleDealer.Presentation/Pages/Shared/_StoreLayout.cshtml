@using Microsoft.AspNetCore.Http
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
@{
    var pageTitle = ViewData["Title"] as string ?? "EcoRide Store";
    var username = HttpContextAccessor.HttpContext?.Session.GetString("AccountName");
}

<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@pageTitle</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/layout/store.css" />
    @RenderSection("Head", required: false)
</head>
<body class="store-body">
    <header class="store-header">
        <div class="store-container">
            <a class="store-logo" href="/Home">
                <span class="logo-glow"></span>
                EcoRide
            </a>
            <nav class="store-nav">
                <a href="/Home">Trang chủ</a>
                <a href="/products">Sản phẩm</a>
                <a href="/products/detail">Công nghệ</a>
                <a href="/cart">Giỏ hàng</a>

                @if (!string.IsNullOrEmpty(username))
                {
                    <span class="store-nav__welcome">Xin chào, @username!</span>
                    <a class="store-nav__logout" href="/store/logout">Đăng xuất</a>
                }
                else
                {
                    <a href="/store/login">Đăng nhập</a>
                    <a class="store-cta" href="/store/register">Đăng ký</a>
                }
            </nav>
        </div>
    </header>

    <main class="store-main">
        @RenderBody()
    </main>

    <footer class="store-footer">
        <div class="store-container footer-grid">
            <div>
                <h5>EcoRide</h5>
                <p>Hành trình xanh cùng công nghệ xe điện tiên phong.</p>
            </div>
            <div>
                <h6>Liên kết nhanh</h6>
                <a href="/products">Danh mục sản phẩm</a>
                <a href="/cart">Giỏ hàng</a>
                <a href="/scheduling/test-drive">Đặt lịch lái thử</a>
            </div>
            <div>
                <h6>Liên hệ</h6>
                <p>Hotline: 1800-8899</p>
                <p>Email: support@ecoride.vn</p>
            </div>
        </div>
        <div class="store-container footer-bottom">
            <span>&copy; 2025 EcoRide. All rights reserved.</span>
            <div class="footer-links">
                <a href="#">Điều khoản</a>
                <a href="#">Quyền riêng tư</a>
                <a href="#">Hỗ trợ</a>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    @RenderSection("Scripts", required: false)
</body>
</html>
